ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"StereoMixer.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN5daisy6SwitchD2Ev,"axG",%progbits,_ZN5daisy6SwitchD5Ev,comdat
  19              		.align	1
  20              		.p2align 2,,3
  21              		.weak	_ZN5daisy6SwitchD2Ev
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ZN5daisy6SwitchD2Ev:
  27              	.LVL0:
  28              	.LFB1606:
  29              		.file 1 "../../libDaisy//src/hid/switch.h"
   1:../../libDaisy//src/hid/switch.h **** #pragma once
   2:../../libDaisy//src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../../libDaisy//src/hid/switch.h **** #define DSY_SWITCH_H
   4:../../libDaisy//src/hid/switch.h **** #include "daisy_core.h"
   5:../../libDaisy//src/hid/switch.h **** #include "per/gpio.h"
   6:../../libDaisy//src/hid/switch.h **** #include "sys/system.h"
   7:../../libDaisy//src/hid/switch.h **** 
   8:../../libDaisy//src/hid/switch.h **** namespace daisy
   9:../../libDaisy//src/hid/switch.h **** {
  10:../../libDaisy//src/hid/switch.h **** /** 
  11:../../libDaisy//src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:../../libDaisy//src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  13:../../libDaisy//src/hid/switch.h ****     @author Stephen Hensley
  14:../../libDaisy//src/hid/switch.h ****     @date December 2019
  15:../../libDaisy//src/hid/switch.h ****     @ingroup controls
  16:../../libDaisy//src/hid/switch.h **** */
  17:../../libDaisy//src/hid/switch.h **** class Switch
  18:../../libDaisy//src/hid/switch.h **** {
  19:../../libDaisy//src/hid/switch.h ****   public:
  20:../../libDaisy//src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:../../libDaisy//src/hid/switch.h ****     enum Type
  22:../../libDaisy//src/hid/switch.h ****     {
  23:../../libDaisy//src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:../../libDaisy//src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:../../libDaisy//src/hid/switch.h ****     };
  26:../../libDaisy//src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:../../libDaisy//src/hid/switch.h ****     enum Polarity
  28:../../libDaisy//src/hid/switch.h ****     {
  29:../../libDaisy//src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 2


  30:../../libDaisy//src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:../../libDaisy//src/hid/switch.h ****     };
  32:../../libDaisy//src/hid/switch.h **** 
  33:../../libDaisy//src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  34:../../libDaisy//src/hid/switch.h ****     enum Pull
  35:../../libDaisy//src/hid/switch.h ****     {
  36:../../libDaisy//src/hid/switch.h ****         PULL_UP,   /**< & */
  37:../../libDaisy//src/hid/switch.h ****         PULL_DOWN, /**< & */
  38:../../libDaisy//src/hid/switch.h ****         PULL_NONE, /**< & */
  39:../../libDaisy//src/hid/switch.h ****     };
  40:../../libDaisy//src/hid/switch.h **** 
  41:../../libDaisy//src/hid/switch.h ****     Switch() {}
  42:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
  30              		.loc 1 42 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 42 16 is_stmt 0 view .LVU1
  36 0000 7047     		bx	lr
  37              		.cfi_endproc
  38              	.LFE1606:
  40              		.weak	_ZN5daisy6SwitchD1Ev
  41              		.thumb_set _ZN5daisy6SwitchD1Ev,_ZN5daisy6SwitchD2Ev
  42 0002 00BF     		.section	.text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev,"axG",%progbits,_ZN5daisy8patch_sm12DaisyPatch
  43              		.align	1
  44              		.p2align 2,,3
  45              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  50              	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev:
  51              	.LVL1:
  52              	.LFB2529:
  53              		.file 2 "../../libDaisy//src/daisy_patch_sm.h"
   1:../../libDaisy//src/daisy_patch_sm.h **** #pragma once
   2:../../libDaisy//src/daisy_patch_sm.h **** 
   3:../../libDaisy//src/daisy_patch_sm.h **** #include "daisy.h"
   4:../../libDaisy//src/daisy_patch_sm.h **** 
   5:../../libDaisy//src/daisy_patch_sm.h **** namespace daisy
   6:../../libDaisy//src/daisy_patch_sm.h **** {
   7:../../libDaisy//src/daisy_patch_sm.h **** namespace patch_sm
   8:../../libDaisy//src/daisy_patch_sm.h **** {
   9:../../libDaisy//src/daisy_patch_sm.h ****     /** Accessors for the Analog Controls. 
  10:../../libDaisy//src/daisy_patch_sm.h ****      *  These cover the 8x Bipolar CV inputs
  11:../../libDaisy//src/daisy_patch_sm.h ****      *  as well as the 4x 0-3V3 ADC inputs on
  12:../../libDaisy//src/daisy_patch_sm.h ****      *  the hardware 
  13:../../libDaisy//src/daisy_patch_sm.h ****      * 
  14:../../libDaisy//src/daisy_patch_sm.h ****      *  When reading a value with DaisyPatchSM::GetAdcValue()
  15:../../libDaisy//src/daisy_patch_sm.h ****      * 
  16:../../libDaisy//src/daisy_patch_sm.h ****      *  patch.GetAdcValue(patch_sm::CV_1);
  17:../../libDaisy//src/daisy_patch_sm.h ****      */
  18:../../libDaisy//src/daisy_patch_sm.h ****     enum
  19:../../libDaisy//src/daisy_patch_sm.h ****     {
  20:../../libDaisy//src/daisy_patch_sm.h ****         CV_1 = 0,
  21:../../libDaisy//src/daisy_patch_sm.h ****         CV_2,
  22:../../libDaisy//src/daisy_patch_sm.h ****         CV_3,
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 3


  23:../../libDaisy//src/daisy_patch_sm.h ****         CV_4,
  24:../../libDaisy//src/daisy_patch_sm.h ****         CV_5,
  25:../../libDaisy//src/daisy_patch_sm.h ****         CV_6,
  26:../../libDaisy//src/daisy_patch_sm.h ****         CV_7,
  27:../../libDaisy//src/daisy_patch_sm.h ****         CV_8,
  28:../../libDaisy//src/daisy_patch_sm.h ****         ADC_9,
  29:../../libDaisy//src/daisy_patch_sm.h ****         ADC_10,
  30:../../libDaisy//src/daisy_patch_sm.h ****         ADC_11,
  31:../../libDaisy//src/daisy_patch_sm.h ****         ADC_12,
  32:../../libDaisy//src/daisy_patch_sm.h ****         ADC_LAST,
  33:../../libDaisy//src/daisy_patch_sm.h ****     };
  34:../../libDaisy//src/daisy_patch_sm.h **** 
  35:../../libDaisy//src/daisy_patch_sm.h ****     /** Enum for addressing the CV Outputs via the WriteCvOut function. */
  36:../../libDaisy//src/daisy_patch_sm.h ****     enum
  37:../../libDaisy//src/daisy_patch_sm.h ****     {
  38:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_BOTH = 0,
  39:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_1,
  40:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_2,
  41:../../libDaisy//src/daisy_patch_sm.h ****     };
  42:../../libDaisy//src/daisy_patch_sm.h **** 
  43:../../libDaisy//src/daisy_patch_sm.h **** 
  44:../../libDaisy//src/daisy_patch_sm.h ****     /** @brief Board support file for DaisyPatchSM hardware
  45:../../libDaisy//src/daisy_patch_sm.h ****      *  @author shensley
  46:../../libDaisy//src/daisy_patch_sm.h ****      *  @ingroup boards
  47:../../libDaisy//src/daisy_patch_sm.h ****      * 
  48:../../libDaisy//src/daisy_patch_sm.h ****      *  Daisy Patch SM is a complete Eurorack module DSP engine.
  49:../../libDaisy//src/daisy_patch_sm.h ****      *  Based on the Daisy Seed, with circuits added for 
  50:../../libDaisy//src/daisy_patch_sm.h ****      *  interfacing directly with eurorack modular synthesizers.
  51:../../libDaisy//src/daisy_patch_sm.h ****      */
  52:../../libDaisy//src/daisy_patch_sm.h ****     class DaisyPatchSM
  53:../../libDaisy//src/daisy_patch_sm.h ****     {
  54:../../libDaisy//src/daisy_patch_sm.h ****       public:
  55:../../libDaisy//src/daisy_patch_sm.h ****         /** Helper for mapping pins, and accessing them using the `GetPin` function */
  56:../../libDaisy//src/daisy_patch_sm.h ****         enum class PinBank
  57:../../libDaisy//src/daisy_patch_sm.h ****         {
  58:../../libDaisy//src/daisy_patch_sm.h ****             A,
  59:../../libDaisy//src/daisy_patch_sm.h ****             B,
  60:../../libDaisy//src/daisy_patch_sm.h ****             C,
  61:../../libDaisy//src/daisy_patch_sm.h ****             D
  62:../../libDaisy//src/daisy_patch_sm.h ****         };
  63:../../libDaisy//src/daisy_patch_sm.h **** 
  64:../../libDaisy//src/daisy_patch_sm.h ****         DaisyPatchSM() {}
  65:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
  54              		.loc 2 65 9 is_stmt 1 view -0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		@ link register save eliminated.
  59              	.LBB122:
  60              	.LBI122:
  61              		.file 3 "../../libDaisy//src/hid/gatein.h"
   1:../../libDaisy//src/hid/gatein.h **** #pragma once
   2:../../libDaisy//src/hid/gatein.h **** #ifndef DSY_GATEIN_H
   3:../../libDaisy//src/hid/gatein.h **** #define DSY_GATEIN_H
   4:../../libDaisy//src/hid/gatein.h **** #include "per/gpio.h"
   5:../../libDaisy//src/hid/gatein.h **** 
   6:../../libDaisy//src/hid/gatein.h **** namespace daisy
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 4


   7:../../libDaisy//src/hid/gatein.h **** {
   8:../../libDaisy//src/hid/gatein.h **** /**
   9:../../libDaisy//src/hid/gatein.h ****    @brief Generic Class for handling gate inputs through GPIO.
  10:../../libDaisy//src/hid/gatein.h ****    @author Stephen Hensley
  11:../../libDaisy//src/hid/gatein.h ****    @date    March 2020
  12:../../libDaisy//src/hid/gatein.h ****    @ingroup controls
  13:../../libDaisy//src/hid/gatein.h **** */
  14:../../libDaisy//src/hid/gatein.h **** class GateIn
  15:../../libDaisy//src/hid/gatein.h **** {
  16:../../libDaisy//src/hid/gatein.h ****   public:
  17:../../libDaisy//src/hid/gatein.h ****     /** GateIn 
  18:../../libDaisy//src/hid/gatein.h ****     Constructor 
  19:../../libDaisy//src/hid/gatein.h ****     */
  20:../../libDaisy//src/hid/gatein.h ****     GateIn() {}
  21:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
  22:../../libDaisy//src/hid/gatein.h ****     Destructor 
  23:../../libDaisy//src/hid/gatein.h ****     */
  24:../../libDaisy//src/hid/gatein.h ****     ~GateIn() {}
  62              		.loc 3 24 5 view .LVU3
  63              		.loc 3 24 5 is_stmt 0 view .LVU4
  64              	.LBE122:
  65              	.LBB123:
  66              	.LBI123:
  67              		.loc 3 24 5 is_stmt 1 view .LVU5
  68              		.loc 3 24 5 is_stmt 0 view .LVU6
  69              	.LBE123:
  70              	.LBB124:
  71              	.LBI124:
  72              		.file 4 "../../libDaisy//src/dev/codec_pcm3060.h"
   1:../../libDaisy//src/dev/codec_pcm3060.h **** #pragma once
   2:../../libDaisy//src/dev/codec_pcm3060.h **** #ifndef DSY_CODEC_PCM3060_H
   3:../../libDaisy//src/dev/codec_pcm3060.h **** #define DSY_CODEC_PCM3060_H
   4:../../libDaisy//src/dev/codec_pcm3060.h **** #include "per/i2c.h"
   5:../../libDaisy//src/dev/codec_pcm3060.h **** namespace daisy
   6:../../libDaisy//src/dev/codec_pcm3060.h **** {
   7:../../libDaisy//src/dev/codec_pcm3060.h **** /**
   8:../../libDaisy//src/dev/codec_pcm3060.h ****  * @brief Driver for the TI PCM3060 Audio Codec.
   9:../../libDaisy//src/dev/codec_pcm3060.h ****  * @addtogroup codec
  10:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  11:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now this is a limited interface that uses I2C to communicate with the PCM3060
  12:../../libDaisy//src/dev/codec_pcm3060.h ****  * The device can also be accessed with SPI, which is not yet supported.
  13:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  14:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now all registers are set to their defaults, and the Init function will 
  15:../../libDaisy//src/dev/codec_pcm3060.h ****  * perform a MRST and SRST before setting the format to 24bit LJ, and disabling 
  16:../../libDaisy//src/dev/codec_pcm3060.h ****  * power save for both the ADC and DAC.
  17:../../libDaisy//src/dev/codec_pcm3060.h ****  *
  18:../../libDaisy//src/dev/codec_pcm3060.h ****  */
  19:../../libDaisy//src/dev/codec_pcm3060.h **** class Pcm3060
  20:../../libDaisy//src/dev/codec_pcm3060.h **** {
  21:../../libDaisy//src/dev/codec_pcm3060.h ****   public:
  22:../../libDaisy//src/dev/codec_pcm3060.h ****     enum class Result
  23:../../libDaisy//src/dev/codec_pcm3060.h ****     {
  24:../../libDaisy//src/dev/codec_pcm3060.h ****         OK,
  25:../../libDaisy//src/dev/codec_pcm3060.h ****         ERR,
  26:../../libDaisy//src/dev/codec_pcm3060.h ****     };
  27:../../libDaisy//src/dev/codec_pcm3060.h **** 
  28:../../libDaisy//src/dev/codec_pcm3060.h ****     Pcm3060() {}
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 5


  29:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
  73              		.loc 4 29 5 is_stmt 1 view .LVU7
  74              		.loc 4 29 5 is_stmt 0 view .LVU8
  75              	.LBE124:
  76              	.LBB125:
  77              	.LBI125:
  78              		.file 5 "../../libDaisy//src/hid/usb.h"
   1:../../libDaisy//src/hid/usb.h **** #pragma once
   2:../../libDaisy//src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy//src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy//src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy//src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy//src/hid/usb.h **** 
   7:../../libDaisy//src/hid/usb.h **** namespace daisy
   8:../../libDaisy//src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy//src/hid/usb.h ****     @{
  10:../../libDaisy//src/hid/usb.h **** */
  11:../../libDaisy//src/hid/usb.h **** 
  12:../../libDaisy//src/hid/usb.h **** {
  13:../../libDaisy//src/hid/usb.h **** /** 
  14:../../libDaisy//src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy//src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy//src/hid/usb.h ****     @date December 2019
  17:../../libDaisy//src/hid/usb.h **** */
  18:../../libDaisy//src/hid/usb.h **** class UsbHandle
  19:../../libDaisy//src/hid/usb.h **** {
  20:../../libDaisy//src/hid/usb.h ****   public:
  21:../../libDaisy//src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy//src/hid/usb.h ****     enum class Result
  23:../../libDaisy//src/hid/usb.h ****     {
  24:../../libDaisy//src/hid/usb.h ****         OK,
  25:../../libDaisy//src/hid/usb.h ****         ERR,
  26:../../libDaisy//src/hid/usb.h ****     };
  27:../../libDaisy//src/hid/usb.h **** 
  28:../../libDaisy//src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy//src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy//src/hid/usb.h ****     {
  31:../../libDaisy//src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy//src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy//src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy//src/hid/usb.h ****     };
  35:../../libDaisy//src/hid/usb.h **** 
  36:../../libDaisy//src/hid/usb.h **** 
  37:../../libDaisy//src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy//src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy//src/hid/usb.h **** 
  40:../../libDaisy//src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy//src/hid/usb.h **** 
  42:../../libDaisy//src/hid/usb.h ****     ~UsbHandle() {}
  79              		.loc 5 42 5 is_stmt 1 view .LVU9
  80              		.loc 5 42 5 is_stmt 0 view .LVU10
  81              	.LBE125:
  82              	.LBB126:
  83              	.LBI126:
  84              		.file 6 "../../libDaisy//src/per/adc.h"
   1:../../libDaisy//src/per/adc.h **** #pragma once
   2:../../libDaisy//src/per/adc.h **** #ifndef DSY_ADC_H
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 6


   3:../../libDaisy//src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy//src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy//src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy//src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy//src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy//src/per/adc.h **** 
   9:../../libDaisy//src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../libDaisy//src/per/adc.h **** 
  11:../../libDaisy//src/per/adc.h **** namespace daisy
  12:../../libDaisy//src/per/adc.h **** {
  13:../../libDaisy//src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy//src/per/adc.h ****     @{
  15:../../libDaisy//src/per/adc.h **** */
  16:../../libDaisy//src/per/adc.h **** 
  17:../../libDaisy//src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy//src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy//src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy//src/per/adc.h **** */
  21:../../libDaisy//src/per/adc.h **** 
  22:../../libDaisy//src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy//src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy//src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy//src/per/adc.h ****  *           one channel.
  26:../../libDaisy//src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy//src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy//src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy//src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy//src/per/adc.h **** */
  31:../../libDaisy//src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy//src/per/adc.h **** {
  33:../../libDaisy//src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy//src/per/adc.h ****     enum MuxPin
  35:../../libDaisy//src/per/adc.h ****     {
  36:../../libDaisy//src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy//src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy//src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy//src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy//src/per/adc.h ****     };
  41:../../libDaisy//src/per/adc.h **** 
  42:../../libDaisy//src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  43:../../libDaisy//src/per/adc.h ****     \param pin Pin to init.
  44:../../libDaisy//src/per/adc.h ****      */
  45:../../libDaisy//src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  46:../../libDaisy//src/per/adc.h **** 
  47:../../libDaisy//src/per/adc.h ****     /** 
  48:../../libDaisy//src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  49:../../libDaisy//src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  50:../../libDaisy//src/per/adc.h ****     You only need to supply the mux pins that are required,
  51:../../libDaisy//src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  52:../../libDaisy//src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  53:../../libDaisy//src/per/adc.h ****     \param mux_channels must be 1-8
  54:../../libDaisy//src/per/adc.h ****     \param mux_0 First mux pin
  55:../../libDaisy//src/per/adc.h ****     \param mux_1 Second mux pin
  56:../../libDaisy//src/per/adc.h ****     \param mux_2 Third mux pin
  57:../../libDaisy//src/per/adc.h ****     \param adc_pin &
  58:../../libDaisy//src/per/adc.h ****     */
  59:../../libDaisy//src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 7


  60:../../libDaisy//src/per/adc.h ****                  size_t       mux_channels,
  61:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_0,
  62:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  63:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  64:../../libDaisy//src/per/adc.h **** 
  65:../../libDaisy//src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  66:../../libDaisy//src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
  67:../../libDaisy//src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  68:../../libDaisy//src/per/adc.h **** };
  69:../../libDaisy//src/per/adc.h **** 
  70:../../libDaisy//src/per/adc.h **** /**
  71:../../libDaisy//src/per/adc.h ****    @brief Handler for analog to digital conversion
  72:../../libDaisy//src/per/adc.h **** */
  73:../../libDaisy//src/per/adc.h **** class AdcHandle
  74:../../libDaisy//src/per/adc.h **** {
  75:../../libDaisy//src/per/adc.h ****   public:
  76:../../libDaisy//src/per/adc.h ****     /** Supported oversampling amounts */
  77:../../libDaisy//src/per/adc.h ****     enum OverSampling
  78:../../libDaisy//src/per/adc.h ****     {
  79:../../libDaisy//src/per/adc.h ****         OVS_NONE, /**< & */
  80:../../libDaisy//src/per/adc.h ****         OVS_4,    /**< & */
  81:../../libDaisy//src/per/adc.h ****         OVS_8,    /**< & */
  82:../../libDaisy//src/per/adc.h ****         OVS_16,   /**< & */
  83:../../libDaisy//src/per/adc.h ****         OVS_32,   /**< & */
  84:../../libDaisy//src/per/adc.h ****         OVS_64,   /**< & */
  85:../../libDaisy//src/per/adc.h ****         OVS_128,  /**< & */
  86:../../libDaisy//src/per/adc.h ****         OVS_256,  /**< & */
  87:../../libDaisy//src/per/adc.h ****         OVS_512,  /**< & */
  88:../../libDaisy//src/per/adc.h ****         OVS_1024, /**< & */
  89:../../libDaisy//src/per/adc.h ****         OVS_LAST, /**< & */
  90:../../libDaisy//src/per/adc.h ****     };
  91:../../libDaisy//src/per/adc.h **** 
  92:../../libDaisy//src/per/adc.h ****     AdcHandle() {}
  93:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
  85              		.loc 6 93 5 is_stmt 1 view .LVU11
  86              		.loc 6 93 5 is_stmt 0 view .LVU12
  87              	.LBE126:
  88              	.LBB127:
  89              	.LBI127:
  90              		.file 7 "../../libDaisy//src/hid/audio.h"
   1:../../libDaisy//src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy//src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy//src/hid/audio.h **** 
   4:../../libDaisy//src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy//src/hid/audio.h **** 
   6:../../libDaisy//src/hid/audio.h **** namespace daisy
   7:../../libDaisy//src/hid/audio.h **** {
   8:../../libDaisy//src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy//src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy//src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy//src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy//src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy//src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy//src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy//src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy//src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy//src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 8


  18:../../libDaisy//src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy//src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy//src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy//src/hid/audio.h ****  */
  22:../../libDaisy//src/hid/audio.h **** class AudioHandle
  23:../../libDaisy//src/hid/audio.h **** {
  24:../../libDaisy//src/hid/audio.h ****   public:
  25:../../libDaisy//src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy//src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy//src/hid/audio.h ****     struct Config
  28:../../libDaisy//src/hid/audio.h ****     {
  29:../../libDaisy//src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy//src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy//src/hid/audio.h **** 
  32:../../libDaisy//src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy//src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy//src/hid/audio.h **** 
  35:../../libDaisy//src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy//src/hid/audio.h ****         float postgain;
  37:../../libDaisy//src/hid/audio.h **** 
  38:../../libDaisy//src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy//src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy//src/hid/audio.h ****          */
  41:../../libDaisy//src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy//src/hid/audio.h **** 
  43:../../libDaisy//src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy//src/hid/audio.h ****         Config()
  45:../../libDaisy//src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy//src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy//src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy//src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy//src/hid/audio.h ****         {
  50:../../libDaisy//src/hid/audio.h ****         }
  51:../../libDaisy//src/hid/audio.h ****     };
  52:../../libDaisy//src/hid/audio.h **** 
  53:../../libDaisy//src/hid/audio.h ****     enum class Result
  54:../../libDaisy//src/hid/audio.h ****     {
  55:../../libDaisy//src/hid/audio.h ****         OK,
  56:../../libDaisy//src/hid/audio.h ****         ERR,
  57:../../libDaisy//src/hid/audio.h ****     };
  58:../../libDaisy//src/hid/audio.h **** 
  59:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy//src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../libDaisy//src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy//src/hid/audio.h ****      */
  63:../../libDaisy//src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy//src/hid/audio.h **** 
  65:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy//src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../libDaisy//src/hid/audio.h ****      */
  68:../../libDaisy//src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy//src/hid/audio.h **** 
  70:../../libDaisy//src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy//src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy//src/hid/audio.h ****      */
  73:../../libDaisy//src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../libDaisy//src/hid/audio.h ****                                   OutputBuffer out,
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 9


  75:../../libDaisy//src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy//src/hid/audio.h **** 
  77:../../libDaisy//src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy//src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy//src/hid/audio.h ****     */
  81:../../libDaisy//src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../../libDaisy//src/hid/audio.h **** 
  83:../../libDaisy//src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy//src/hid/audio.h ****     */
  86:../../libDaisy//src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy//src/hid/audio.h **** 
  88:../../libDaisy//src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy//src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy//src/hid/audio.h ****      */
  91:../../libDaisy//src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy//src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy//src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy//src/hid/audio.h **** 
  95:../../libDaisy//src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
  91              		.loc 7 96 5 is_stmt 1 view .LVU13
  92              		.loc 7 96 5 is_stmt 0 view .LVU14
  93              	.LBE127:
  94              	.LBB128:
  95              	.LBI128:
  96              		.file 8 "../../libDaisy//src/sys/system.h"
   1:../../libDaisy//src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy//src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy//src/sys/system.h **** 
   4:../../libDaisy//src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy//src/sys/system.h **** 
   6:../../libDaisy//src/sys/system.h **** #include <cstdint>
   7:../../libDaisy//src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy//src/sys/system.h **** 
   9:../../libDaisy//src/sys/system.h **** namespace daisy
  10:../../libDaisy//src/sys/system.h **** {
  11:../../libDaisy//src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../libDaisy//src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy//src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy//src/sys/system.h ****  **
  15:../../libDaisy//src/sys/system.h ****  ** @author shensley
  16:../../libDaisy//src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy//src/sys/system.h ****  */
  18:../../libDaisy//src/sys/system.h **** class System
  19:../../libDaisy//src/sys/system.h **** {
  20:../../libDaisy//src/sys/system.h ****   public:
  21:../../libDaisy//src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy//src/sys/system.h ****     struct Config
  23:../../libDaisy//src/sys/system.h ****     {
  24:../../libDaisy//src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy//src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy//src/sys/system.h ****         {
  27:../../libDaisy//src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy//src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy//src/sys/system.h ****         };
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 10


  30:../../libDaisy//src/sys/system.h **** 
  31:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  34:../../libDaisy//src/sys/system.h ****          ** */
  35:../../libDaisy//src/sys/system.h ****         void Defaults()
  36:../../libDaisy//src/sys/system.h ****         {
  37:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy//src/sys/system.h ****         }
  42:../../libDaisy//src/sys/system.h **** 
  43:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  46:../../libDaisy//src/sys/system.h ****          ** */
  47:../../libDaisy//src/sys/system.h ****         void Boost()
  48:../../libDaisy//src/sys/system.h ****         {
  49:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy//src/sys/system.h ****         }
  54:../../libDaisy//src/sys/system.h **** 
  55:../../libDaisy//src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy//src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy//src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy//src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy//src/sys/system.h ****     };
  60:../../libDaisy//src/sys/system.h **** 
  61:../../libDaisy//src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy
  62:../../libDaisy//src/sys/system.h ****      * 
  63:../../libDaisy//src/sys/system.h ****      */
  64:../../libDaisy//src/sys/system.h ****     enum MemoryRegion
  65:../../libDaisy//src/sys/system.h ****     {
  66:../../libDaisy//src/sys/system.h ****         INTERNAL_FLASH = 0,
  67:../../libDaisy//src/sys/system.h ****         ITCMRAM,
  68:../../libDaisy//src/sys/system.h ****         DTCMRAM,
  69:../../libDaisy//src/sys/system.h ****         SRAM_D1,
  70:../../libDaisy//src/sys/system.h ****         SRAM_D2,
  71:../../libDaisy//src/sys/system.h ****         SRAM_D3,
  72:../../libDaisy//src/sys/system.h ****         SDRAM,
  73:../../libDaisy//src/sys/system.h ****         QSPI,
  74:../../libDaisy//src/sys/system.h ****         INVALID_ADDRESS,
  75:../../libDaisy//src/sys/system.h ****     };
  76:../../libDaisy//src/sys/system.h **** 
  77:../../libDaisy//src/sys/system.h ****     System() {}
  78:../../libDaisy//src/sys/system.h ****     ~System() {}
  97              		.loc 8 78 5 is_stmt 1 view .LVU15
  98              		.loc 8 78 5 is_stmt 0 view .LVU16
  99              	.LBE128:
 100              		.loc 2 65 26 view .LVU17
 101 0000 7047     		bx	lr
 102              		.cfi_endproc
 103              	.LFE2529:
 105              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 11


 106              		.thumb_set _ZN5daisy8patch_sm12DaisyPatchSMD1Ev,_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
 107 0002 00BF     		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 108              		.align	1
 109              		.p2align 2,,3
 110              		.global	_Z13AudioCallbackPKPKfPPfj
 111              		.syntax unified
 112              		.thumb
 113              		.thumb_func
 115              	_Z13AudioCallbackPKPKfPPfj:
 116              	.LVL2:
 117              	.LFB4795:
 118              		.file 9 "StereoMixer.cpp"
   1:StereoMixer.cpp **** #include "daisy_patch_sm.h"
   2:StereoMixer.cpp **** #include "daisysp.h"
   3:StereoMixer.cpp **** 
   4:StereoMixer.cpp **** /** These are namespaces for the daisy libraries.
   5:StereoMixer.cpp ****  *  These lines allow us to omit the "daisy::" and "daisysp::" before
   6:StereoMixer.cpp ****  * referencing modules, and functions within the daisy libraries.
   7:StereoMixer.cpp ****  */
   8:StereoMixer.cpp **** using namespace daisy;
   9:StereoMixer.cpp **** using namespace patch_sm;
  10:StereoMixer.cpp **** 
  11:StereoMixer.cpp **** /** Our hardware board class handles the interface to the actual DaisyPatchSM
  12:StereoMixer.cpp ****  * hardware. */
  13:StereoMixer.cpp **** DaisyPatchSM patch;
  14:StereoMixer.cpp **** Switch lever;
  15:StereoMixer.cpp **** 
  16:StereoMixer.cpp **** // helper function to ensure a float is between 0 and 1
  17:StereoMixer.cpp **** float clamp(float x)
  18:StereoMixer.cpp **** {
  19:StereoMixer.cpp ****     if(x < 0.f)
  20:StereoMixer.cpp ****         return 0.f;
  21:StereoMixer.cpp ****     if(x > 1.f)
  22:StereoMixer.cpp ****         return 1.f;
  23:StereoMixer.cpp ****     return x;
  24:StereoMixer.cpp **** }
  25:StereoMixer.cpp **** 
  26:StereoMixer.cpp **** // helper function to get positive decimal part of a float that could be negative, i.e. -0.1 -> 0.9
  27:StereoMixer.cpp **** float posDec(float x)
  28:StereoMixer.cpp **** {
  29:StereoMixer.cpp ****     if(x < 0.f)
  30:StereoMixer.cpp ****         return 1.f + x - (int)x;
  31:StereoMixer.cpp ****     return x - (int)x;
  32:StereoMixer.cpp **** }
  33:StereoMixer.cpp **** 
  34:StereoMixer.cpp **** /** Callback for processing and synthesizing audio
  35:StereoMixer.cpp ****  *
  36:StereoMixer.cpp ****  *  The audio buffers are arranged as arrays of samples for each channel.
  37:StereoMixer.cpp ****  *  For example, to access the left input you would use:
  38:StereoMixer.cpp ****  *    in[0][n]
  39:StereoMixer.cpp ****  *  where n is the specific sample.
  40:StereoMixer.cpp ****  *  There are "size" samples in each array.
  41:StereoMixer.cpp ****  *
  42:StereoMixer.cpp ****  *  The default size is very small (just 4 saqmples per channel). This means the
  43:StereoMixer.cpp ****  * callback is being called at 16kHz.
  44:StereoMixer.cpp ****  *
  45:StereoMixer.cpp ****  *  This size is acceptable for many applications, and provides an extremely low
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 12


  46:StereoMixer.cpp ****  * latency from input to output. However, you can change this size by calling
  47:StereoMixer.cpp ****  * hw.SetAudioBlockSize(desired_size). When running complex DSP it can be more
  48:StereoMixer.cpp ****  * efficient to do the processing on larger chunks at a time.
  49:StereoMixer.cpp ****  *
  50:StereoMixer.cpp ****  */
  51:StereoMixer.cpp **** 
  52:StereoMixer.cpp **** 
  53:StereoMixer.cpp **** 
  54:StereoMixer.cpp **** void AudioCallback(AudioHandle::InputBuffer  in,
  55:StereoMixer.cpp ****                    AudioHandle::OutputBuffer out,
  56:StereoMixer.cpp ****                    size_t                    size)
  57:StereoMixer.cpp **** {
 119              		.loc 9 57 1 is_stmt 1 view -0
 120              		.cfi_startproc
 121              		@ args = 0, pretend = 0, frame = 8
 122              		@ frame_needed = 0, uses_anonymous_args = 0
  58:StereoMixer.cpp **** 
  59:StereoMixer.cpp ****     // Get all CVs, gate ins, and Inputs
  60:StereoMixer.cpp ****     patch.ProcessAllControls();
 123              		.loc 9 60 5 view .LVU19
 124              	.LBB144:
 125              	.LBI144:
  66:../../libDaisy//src/daisy_patch_sm.h **** 
  67:../../libDaisy//src/daisy_patch_sm.h ****         /** Initializes the memories, and core peripherals for the Daisy Patch SM */
  68:../../libDaisy//src/daisy_patch_sm.h ****         void Init();
  69:../../libDaisy//src/daisy_patch_sm.h **** 
  70:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts a non-interleaving audio callback */
  71:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::AudioCallback cb);
  72:../../libDaisy//src/daisy_patch_sm.h **** 
  73:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts an interleaving audio callback */
  74:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  75:../../libDaisy//src/daisy_patch_sm.h **** 
  76:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  77:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  78:../../libDaisy//src/daisy_patch_sm.h ****          */
  79:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  80:../../libDaisy//src/daisy_patch_sm.h **** 
  81:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  82:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  83:../../libDaisy//src/daisy_patch_sm.h ****          */
  84:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  85:../../libDaisy//src/daisy_patch_sm.h **** 
  86:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the transmission of audio. */
  87:../../libDaisy//src/daisy_patch_sm.h ****         void StopAudio();
  88:../../libDaisy//src/daisy_patch_sm.h **** 
  89:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the number of samples processed in an audio callback. 
  90:../../libDaisy//src/daisy_patch_sm.h ****          *  This will only take effect on the next invocation of `StartAudio`
  91:../../libDaisy//src/daisy_patch_sm.h ****          */
  92:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioBlockSize(size_t size);
  93:../../libDaisy//src/daisy_patch_sm.h **** 
  94:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the samplerate for the audio engine 
  95:../../libDaisy//src/daisy_patch_sm.h ****          *  This will set it to the closest valid samplerate. Options being:
  96:../../libDaisy//src/daisy_patch_sm.h ****          *  8kHz, 16kHz, 32kHz, 48kHz, and 96kHz
  97:../../libDaisy//src/daisy_patch_sm.h ****          */
  98:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(float sr);
  99:../../libDaisy//src/daisy_patch_sm.h **** 
 100:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(SaiHandle::Config::SampleRate sample_rate);
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 13


 101:../../libDaisy//src/daisy_patch_sm.h **** 
 102:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the number of samples processed in an audio callback */
 103:../../libDaisy//src/daisy_patch_sm.h ****         size_t AudioBlockSize();
 104:../../libDaisy//src/daisy_patch_sm.h **** 
 105:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the audio engine's samplerate in Hz */
 106:../../libDaisy//src/daisy_patch_sm.h ****         float AudioSampleRate();
 107:../../libDaisy//src/daisy_patch_sm.h **** 
 108:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the rate at which the audio callback will be called in Hz */
 109:../../libDaisy//src/daisy_patch_sm.h ****         float AudioCallbackRate();
 110:../../libDaisy//src/daisy_patch_sm.h **** 
 111:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts the Control ADCs 
 112:../../libDaisy//src/daisy_patch_sm.h ****          * 
 113:../../libDaisy//src/daisy_patch_sm.h ****          *  This is started automatically when Init() is called.
 114:../../libDaisy//src/daisy_patch_sm.h ****          */
 115:../../libDaisy//src/daisy_patch_sm.h ****         void StartAdc();
 116:../../libDaisy//src/daisy_patch_sm.h **** 
 117:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the Control ADCs */
 118:../../libDaisy//src/daisy_patch_sm.h ****         void StopAdc();
 119:../../libDaisy//src/daisy_patch_sm.h **** 
 120:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and filters all of the analog control inputs */
 121:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAnalogControls();
 122:../../libDaisy//src/daisy_patch_sm.h **** 
 123:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and debounces any of the digital control inputs 
 124:../../libDaisy//src/daisy_patch_sm.h ****          *  This does nothing on this board at this time.
 125:../../libDaisy//src/daisy_patch_sm.h ****          */
 126:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessDigitalControls();
 127:../../libDaisy//src/daisy_patch_sm.h **** 
 128:../../libDaisy//src/daisy_patch_sm.h ****         /** Does both of the above */
 129:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAllControls()
 126              		.loc 2 129 14 view .LVU20
 127              	.LBB145:
 130:../../libDaisy//src/daisy_patch_sm.h ****         {
 131:../../libDaisy//src/daisy_patch_sm.h ****             ProcessAnalogControls();
 128              		.loc 2 131 13 view .LVU21
 129              	.LBE145:
 130              	.LBE144:
  57:StereoMixer.cpp **** 
 131              		.loc 9 57 1 is_stmt 0 view .LVU22
 132 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 133              		.cfi_def_cfa_offset 28
 134              		.cfi_offset 4, -28
 135              		.cfi_offset 5, -24
 136              		.cfi_offset 6, -20
 137              		.cfi_offset 7, -16
 138              		.cfi_offset 8, -12
 139              		.cfi_offset 9, -8
 140              		.cfi_offset 14, -4
 141 0004 8046     		mov	r8, r0
 142              	.LBB148:
 143              	.LBB146:
 144              		.loc 2 131 34 view .LVU23
 145 0006 5F48     		ldr	r0, .L32
 146              	.LVL3:
 147              		.loc 2 131 34 view .LVU24
 148              	.LBE146:
 149              	.LBE148:
  57:StereoMixer.cpp **** 
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 14


 150              		.loc 9 57 1 view .LVU25
 151 0008 1546     		mov	r5, r2
 152 000a 0F46     		mov	r7, r1
 153 000c 2DED048B 		vpush.64	{d8, d9}
 154              		.cfi_def_cfa_offset 44
 155              		.cfi_offset 80, -44
 156              		.cfi_offset 81, -40
 157              		.cfi_offset 82, -36
 158              		.cfi_offset 83, -32
 159 0010 83B0     		sub	sp, sp, #12
 160              		.cfi_def_cfa_offset 56
 161              	.LBB149:
 162              	.LBB147:
 163              		.loc 2 131 34 view .LVU26
 164 0012 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
 165              	.LVL4:
 132:../../libDaisy//src/daisy_patch_sm.h ****             ProcessDigitalControls();
 166              		.loc 2 132 13 is_stmt 1 view .LVU27
 167              		.loc 2 132 35 is_stmt 0 view .LVU28
 168 0016 5B48     		ldr	r0, .L32
 169 0018 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
 170              	.LVL5:
 171              		.loc 2 132 35 view .LVU29
 172              	.LBE147:
 173              	.LBE149:
  61:StereoMixer.cpp **** 
  62:StereoMixer.cpp ****     // Initialize array of 2 floats called gains, set with ADC CV1-4 inputs
  63:StereoMixer.cpp ****     float gains[2];
 174              		.loc 9 63 5 is_stmt 1 view .LVU30
  64:StereoMixer.cpp ****     for (size_t i = 0; i < 2; i++)
 175              		.loc 9 64 5 view .LVU31
 176              	.LBB150:
 177              		.loc 9 64 26 view .LVU32
  65:StereoMixer.cpp ****     {
  66:StereoMixer.cpp ****         gains[i] = clamp(patch.GetAdcValue(i) + patch.GetAdcValue(i+4));
 178              		.loc 9 66 9 view .LVU33
 179              		.loc 9 66 43 is_stmt 0 view .LVU34
 180 001c 0021     		movs	r1, #0
 181 001e 5948     		ldr	r0, .L32
 182 0020 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 183              	.LVL6:
 184 0024 B0EE408A 		vmov.f32	s16, s0
 185              		.loc 9 66 66 view .LVU35
 186 0028 0421     		movs	r1, #4
 187 002a 5648     		ldr	r0, .L32
 188 002c FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 189              	.LVL7:
 190              		.loc 9 66 25 view .LVU36
 191 0030 38EE008A 		vadd.f32	s16, s16, s0
 192              	.LVL8:
 193              	.LBB151:
 194              	.LBI151:
  17:StereoMixer.cpp **** {
 195              		.loc 9 17 7 is_stmt 1 view .LVU37
 196              	.LBB152:
  19:StereoMixer.cpp ****         return 0.f;
 197              		.loc 9 19 5 view .LVU38
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 15


 198 0034 B5EEC08A 		vcmpe.f32	s16, #0
 199 0038 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 200 003c 00F19480 		bmi	.L19
  21:StereoMixer.cpp ****         return 1.f;
 201              		.loc 9 21 5 view .LVU39
 202 0040 F7EE007A 		vmov.f32	s15, #1.0e+0
  22:StereoMixer.cpp ****     return x;
 203              		.loc 9 22 16 is_stmt 0 view .LVU40
 204 0044 B4EE678A 		vcmp.f32	s16, s15
 205 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 206 004c 37FE888A 		vselgt.f32	s16, s15, s16
 207              	.LVL9:
 208              	.L5:
  22:StereoMixer.cpp ****     return x;
 209              		.loc 9 22 16 view .LVU41
 210              	.LBE152:
 211              	.LBE151:
  64:StereoMixer.cpp ****     {
 212              		.loc 9 64 5 is_stmt 1 view .LVU42
  64:StereoMixer.cpp ****     {
 213              		.loc 9 64 26 view .LVU43
 214              		.loc 9 66 9 view .LVU44
 215              		.loc 9 66 43 is_stmt 0 view .LVU45
 216 0050 0121     		movs	r1, #1
 217 0052 4C48     		ldr	r0, .L32
 218 0054 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 219              	.LVL10:
 220 0058 F0EE408A 		vmov.f32	s17, s0
 221              		.loc 9 66 66 view .LVU46
 222 005c 0521     		movs	r1, #5
 223 005e 4948     		ldr	r0, .L32
 224 0060 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 225              	.LVL11:
 226              		.loc 9 66 25 view .LVU47
 227 0064 78EE808A 		vadd.f32	s17, s17, s0
 228              	.LVL12:
 229              	.LBB156:
  17:StereoMixer.cpp **** {
 230              		.loc 9 17 7 is_stmt 1 view .LVU48
 231              	.LBB153:
  19:StereoMixer.cpp ****         return 0.f;
 232              		.loc 9 19 5 view .LVU49
 233 0068 F5EEC08A 		vcmpe.f32	s17, #0
 234 006c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 235 0070 77D4     		bmi	.L20
  21:StereoMixer.cpp ****         return 1.f;
 236              		.loc 9 21 5 view .LVU50
 237 0072 F7EE007A 		vmov.f32	s15, #1.0e+0
  22:StereoMixer.cpp ****     return x;
 238              		.loc 9 22 16 is_stmt 0 view .LVU51
 239 0076 F4EE678A 		vcmp.f32	s17, s15
 240 007a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 241 007e 77FEA88A 		vselgt.f32	s17, s15, s17
 242              	.LVL13:
 243              	.L7:
  22:StereoMixer.cpp ****     return x;
 244              		.loc 9 22 16 view .LVU52
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 16


 245              	.LBE153:
 246              	.LBE156:
  64:StereoMixer.cpp ****     {
 247              		.loc 9 64 5 is_stmt 1 view .LVU53
  64:StereoMixer.cpp ****     {
 248              		.loc 9 64 26 view .LVU54
  64:StereoMixer.cpp ****     {
 249              		.loc 9 64 26 is_stmt 0 view .LVU55
 250              	.LBE150:
 251              	.LBB159:
  67:StereoMixer.cpp ****     }
  68:StereoMixer.cpp **** 
  69:StereoMixer.cpp ****     // Initialize array of 2 floats called pans, set with ADC CV5-8 inputs
  70:StereoMixer.cpp ****     float pans[2];
  71:StereoMixer.cpp ****     for (size_t i = 0; i < 2; i++)
 252              		.loc 9 71 26 is_stmt 1 view .LVU56
 253 0082 DFF80C91 		ldr	r9, .L32+12
 254 0086 6C46     		mov	r4, sp
 255              	.LBE159:
 256              	.LBB172:
 257              	.LBB157:
 258              	.LBB154:
  22:StereoMixer.cpp ****     return x;
 259              		.loc 9 22 16 is_stmt 0 view .LVU57
 260 0088 0226     		movs	r6, #2
 261              	.LVL14:
  22:StereoMixer.cpp ****     return x;
 262              		.loc 9 22 16 view .LVU58
 263              	.LBE154:
 264              	.LBE157:
 265              	.LBE172:
 266              	.LBB173:
  72:StereoMixer.cpp ****     {
  73:StereoMixer.cpp ****         if (lever.RawState()) {
 267              		.loc 9 73 9 is_stmt 1 view .LVU59
 268              	.LBB160:
 269              	.LBI160:
  43:../../libDaisy//src/hid/switch.h **** 
  44:../../libDaisy//src/hid/switch.h ****     /** 
  45:../../libDaisy//src/hid/switch.h ****     Initializes the switch object with a given port/pin combo.
  46:../../libDaisy//src/hid/switch.h ****     \param pin port/pin object to tell the switch which hardware pin to use.
  47:../../libDaisy//src/hid/switch.h ****     \param update_rate Does nothing. Backwards compatibility until next breaking update.
  48:../../libDaisy//src/hid/switch.h ****     \param t switch type -- Default: TYPE_MOMENTARY
  49:../../libDaisy//src/hid/switch.h ****     \param pol switch polarity -- Default: POLARITY_INVERTED
  50:../../libDaisy//src/hid/switch.h ****     \param pu switch pull up/down -- Default: PULL_UP
  51:../../libDaisy//src/hid/switch.h ****     */
  52:../../libDaisy//src/hid/switch.h ****     void
  53:../../libDaisy//src/hid/switch.h ****     Init(dsy_gpio_pin pin, float update_rate, Type t, Polarity pol, Pull pu);
  54:../../libDaisy//src/hid/switch.h **** 
  55:../../libDaisy//src/hid/switch.h ****     /**
  56:../../libDaisy//src/hid/switch.h ****        Simplified Init.
  57:../../libDaisy//src/hid/switch.h ****        \param pin port/pin object to tell the switch which hardware pin to use.
  58:../../libDaisy//src/hid/switch.h ****        \param update_rate Left for backwards compatibility until next breaking change.
  59:../../libDaisy//src/hid/switch.h ****     */
  60:../../libDaisy//src/hid/switch.h ****     void Init(dsy_gpio_pin pin, float update_rate = 0.f);
  61:../../libDaisy//src/hid/switch.h **** 
  62:../../libDaisy//src/hid/switch.h ****     /** 
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 17


  63:../../libDaisy//src/hid/switch.h ****     Called at update_rate to debounce and handle timing for the switch.
  64:../../libDaisy//src/hid/switch.h ****     In order for events not to be missed, its important that the Edge/Pressed checks
  65:../../libDaisy//src/hid/switch.h ****     be made at the same rate as the debounce function is being called.
  66:../../libDaisy//src/hid/switch.h ****     */
  67:../../libDaisy//src/hid/switch.h ****     void Debounce();
  68:../../libDaisy//src/hid/switch.h **** 
  69:../../libDaisy//src/hid/switch.h ****     /** \return true if a button was just pressed. */
  70:../../libDaisy//src/hid/switch.h ****     inline bool RisingEdge() const { return updated_ ? state_ == 0x7f : false; }
  71:../../libDaisy//src/hid/switch.h **** 
  72:../../libDaisy//src/hid/switch.h ****     /** \return true if the button was just released */
  73:../../libDaisy//src/hid/switch.h ****     inline bool FallingEdge() const
  74:../../libDaisy//src/hid/switch.h ****     {
  75:../../libDaisy//src/hid/switch.h ****         return updated_ ? state_ == 0x80 : false;
  76:../../libDaisy//src/hid/switch.h ****     }
  77:../../libDaisy//src/hid/switch.h **** 
  78:../../libDaisy//src/hid/switch.h ****     /** \return true if the button is held down (or if the toggle is on) */
  79:../../libDaisy//src/hid/switch.h ****     inline bool Pressed() const { return state_ == 0xff; }
  80:../../libDaisy//src/hid/switch.h **** 
  81:../../libDaisy//src/hid/switch.h ****     /** \return true if the button is held down, without debouncing */
  82:../../libDaisy//src/hid/switch.h ****     inline bool RawState()
 270              		.loc 1 82 17 view .LVU60
 271              	.LBB161:
  83:../../libDaisy//src/hid/switch.h ****     {
  84:../../libDaisy//src/hid/switch.h ****         return flip_ ? !dsy_gpio_read(&hw_gpio_) : dsy_gpio_read(&hw_gpio_);
 272              		.loc 1 84 9 view .LVU61
 273              		.loc 1 84 38 is_stmt 0 view .LVU62
 274 008a 3F48     		ldr	r0, .L32+4
 275              		.loc 1 84 22 view .LVU63
 276 008c 99F80B30 		ldrb	r3, [r9, #11]	@ zero_extendqisi2
 277 0090 002B     		cmp	r3, #0
 278 0092 48D0     		beq	.L9
 279              	.LVL15:
 280              	.L30:
 281              		.loc 1 84 38 view .LVU64
 282 0094 FFF7FEFF 		bl	dsy_gpio_read
 283              	.LVL16:
 284              		.loc 1 84 38 view .LVU65
 285              	.LBE161:
 286              	.LBE160:
 287              		.loc 9 73 9 view .LVU66
 288 0098 0028     		cmp	r0, #0
 289 009a 48D0     		beq	.L13
 290              	.L10:
  74:StereoMixer.cpp ****           pans[i] = posDec(patch.GetAdcValue(i+2) + patch.GetAdcValue(i+6));
  75:StereoMixer.cpp ****         } else {
  76:StereoMixer.cpp ****           pans[i] = 0.5f;
 291              		.loc 9 76 11 is_stmt 1 view .LVU67
 292              		.loc 9 76 19 is_stmt 0 view .LVU68
 293 009c 4FF07C53 		mov	r3, #1056964608
 294 00a0 2360     		str	r3, [r4]	@ float
 295              	.L15:
  71:StereoMixer.cpp ****     {
 296              		.loc 9 71 5 is_stmt 1 discriminator 2 view .LVU69
 297              	.LVL17:
  71:StereoMixer.cpp ****     {
 298              		.loc 9 71 26 discriminator 2 view .LVU70
 299 00a2 032E     		cmp	r6, #3
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 18


 300 00a4 04F10404 		add	r4, r4, #4
 301 00a8 37D1     		bne	.L21
 302              	.LVL18:
  71:StereoMixer.cpp ****     {
 303              		.loc 9 71 26 is_stmt 0 discriminator 2 view .LVU71
 304              	.LBE173:
 305              	.LBB174:
  77:StereoMixer.cpp ****         }
  78:StereoMixer.cpp ****     }
  79:StereoMixer.cpp **** 
  80:StereoMixer.cpp ****     // calculate the output of the mixer
  81:StereoMixer.cpp ****     float outL = 0.f;
  82:StereoMixer.cpp ****     float outR = 0.f;
  83:StereoMixer.cpp **** 
  84:StereoMixer.cpp ****     for(size_t i = 0; i < size; i++)
 306              		.loc 9 84 25 is_stmt 1 view .LVU72
 307 00aa 8DB3     		cbz	r5, .L4
 308              	.LBB175:
 309              	.LBB176:
  85:StereoMixer.cpp ****     {
  86:StereoMixer.cpp ****       for(int chn = 0; chn < 2; chn++)
  87:StereoMixer.cpp ****         {
  88:StereoMixer.cpp ****             outL += in[chn][i] * gains[chn] * (1- pans[chn]) ; 
 310              		.loc 9 88 49 is_stmt 0 view .LVU73
 311 00ac B7EE005A 		vmov.f32	s10, #1.0e+0
 312              		.loc 9 88 59 view .LVU74
 313 00b0 9DED004A 		vldr.32	s8, [sp]
 314 00b4 DDED014A 		vldr.32	s9, [sp, #4]
 315              	.LBE176:
 316              	.LBE175:
 317              	.LBE174:
  82:StereoMixer.cpp **** 
 318              		.loc 9 82 11 view .LVU75
 319 00b8 DFED347A 		vldr.32	s15, .L32+8
 320 00bc D8F80030 		ldr	r3, [r8]
 321              	.LBB184:
 322              	.LBB181:
 323              	.LBB177:
 324              		.loc 9 88 49 view .LVU76
 325 00c0 75EE443A 		vsub.f32	s7, s10, s8
 326              	.LBE177:
 327              	.LBE181:
 328              	.LBE184:
  81:StereoMixer.cpp ****     float outR = 0.f;
 329              		.loc 9 81 11 view .LVU77
 330 00c4 B0EE677A 		vmov.f32	s14, s15
 331 00c8 D8F80440 		ldr	r4, [r8, #4]
 332              	.LBB185:
 333              	.LBB182:
 334              	.LBB178:
 335              		.loc 9 88 49 view .LVU78
 336 00cc 35EE645A 		vsub.f32	s10, s10, s9
 337 00d0 03EB8502 		add	r2, r3, r5, lsl #2
 338 00d4 D7E90001 		ldrd	r0, r1, [r7]
 339              	.LVL19:
 340              	.L18:
  86:StereoMixer.cpp ****         {
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 19


 341              		.loc 9 86 28 is_stmt 1 view .LVU79
 342              		.loc 9 88 13 view .LVU80
 343              		.loc 9 88 30 is_stmt 0 view .LVU81
 344 00d8 F3EC015A 		vldmia.32	r3!, {s11}
 345              	.LBE178:
  89:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
  90:StereoMixer.cpp ****         }
  91:StereoMixer.cpp **** 
  92:StereoMixer.cpp ****         //attenuate by 1/4
  93:StereoMixer.cpp ****         OUT_L[i] = outL * .25f; 
 346              		.loc 9 93 25 view .LVU82
 347 00dc F5EE006A 		vmov.f32	s13, #2.5e-1
 348              	.LBB179:
  88:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 349              		.loc 9 88 30 view .LVU83
 350 00e0 B4EC016A 		vldmia.32	r4!, {s12}
  88:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 351              		.loc 9 88 32 view .LVU84
 352 00e4 65EE885A 		vmul.f32	s11, s11, s16
 353              	.LBE179:
 354              	.LBE182:
  84:StereoMixer.cpp ****     {
 355              		.loc 9 84 25 view .LVU85
 356 00e8 9A42     		cmp	r2, r3
 357              	.LBB183:
 358              	.LBB180:
  88:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 359              		.loc 9 88 32 view .LVU86
 360 00ea 26EE286A 		vmul.f32	s12, s12, s17
  88:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 361              		.loc 9 88 18 view .LVU87
 362 00ee A5EEA37A 		vfma.f32	s14, s11, s7
 363              	.LVL20:
  89:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 364              		.loc 9 89 13 is_stmt 1 view .LVU88
  89:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 365              		.loc 9 89 18 is_stmt 0 view .LVU89
 366 00f2 E5EE847A 		vfma.f32	s15, s11, s8
 367              	.LVL21:
  86:StereoMixer.cpp ****         {
 368              		.loc 9 86 7 is_stmt 1 view .LVU90
  86:StereoMixer.cpp ****         {
 369              		.loc 9 86 28 view .LVU91
  88:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 370              		.loc 9 88 13 view .LVU92
  88:StereoMixer.cpp ****             outR += in[chn][i] * gains[chn] * pans[chn];
 371              		.loc 9 88 18 is_stmt 0 view .LVU93
 372 00f6 A6EE057A 		vfma.f32	s14, s12, s10
 373              	.LVL22:
  89:StereoMixer.cpp ****         }
 374              		.loc 9 89 13 is_stmt 1 view .LVU94
  89:StereoMixer.cpp ****         }
 375              		.loc 9 89 18 is_stmt 0 view .LVU95
 376 00fa E6EE247A 		vfma.f32	s15, s12, s9
 377              	.LVL23:
  86:StereoMixer.cpp ****         {
 378              		.loc 9 86 7 is_stmt 1 view .LVU96
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 20


  86:StereoMixer.cpp ****         {
 379              		.loc 9 86 28 view .LVU97
 380              	.LBE180:
 381              		.loc 9 93 9 view .LVU98
 382              		.loc 9 93 25 is_stmt 0 view .LVU99
 383 00fe 27EE266A 		vmul.f32	s12, s14, s13
  94:StereoMixer.cpp ****         OUT_R[i] = outR * .25f; 
 384              		.loc 9 94 25 view .LVU100
 385 0102 67EEA66A 		vmul.f32	s13, s15, s13
  93:StereoMixer.cpp ****         OUT_R[i] = outR * .25f; 
 386              		.loc 9 93 18 view .LVU101
 387 0106 A0EC016A 		vstmia.32	r0!, {s12}
 388              		.loc 9 94 9 is_stmt 1 view .LVU102
 389              		.loc 9 94 18 is_stmt 0 view .LVU103
 390 010a E1EC016A 		vstmia.32	r1!, {s13}
 391              	.LBE183:
  84:StereoMixer.cpp ****     {
 392              		.loc 9 84 5 is_stmt 1 view .LVU104
  84:StereoMixer.cpp ****     {
 393              		.loc 9 84 25 view .LVU105
 394 010e E3D1     		bne	.L18
 395              	.LVL24:
 396              	.L4:
  84:StereoMixer.cpp ****     {
 397              		.loc 9 84 25 is_stmt 0 view .LVU106
 398              	.LBE185:
  95:StereoMixer.cpp ****     }
  96:StereoMixer.cpp **** 
  97:StereoMixer.cpp **** 
  98:StereoMixer.cpp **** 
  99:StereoMixer.cpp **** 
 100:StereoMixer.cpp **** }
 399              		.loc 9 100 1 view .LVU107
 400 0110 03B0     		add	sp, sp, #12
 401              		.cfi_remember_state
 402              		.cfi_def_cfa_offset 44
 403              		@ sp needed
 404 0112 BDEC048B 		vldm	sp!, {d8-d9}
 405              		.cfi_restore 82
 406              		.cfi_restore 83
 407              		.cfi_restore 80
 408              		.cfi_restore 81
 409              		.cfi_def_cfa_offset 28
 410 0116 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 411              	.LVL25:
 412              	.L21:
 413              		.cfi_restore_state
 414              	.LBB186:
 415              	.LBB164:
 416              	.LBB162:
 417              		.loc 1 84 22 view .LVU108
 418 011a 99F80B30 		ldrb	r3, [r9, #11]	@ zero_extendqisi2
 419              	.LBE162:
 420              	.LBE164:
 421 011e 0326     		movs	r6, #3
 422              	.LVL26:
  73:StereoMixer.cpp ****           pans[i] = posDec(patch.GetAdcValue(i+2) + patch.GetAdcValue(i+6));
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 21


 423              		.loc 9 73 9 is_stmt 1 view .LVU109
 424              	.LBB165:
  82:../../libDaisy//src/hid/switch.h ****     {
 425              		.loc 1 82 17 view .LVU110
 426              	.LBB163:
 427              		.loc 1 84 9 view .LVU111
 428              		.loc 1 84 38 is_stmt 0 view .LVU112
 429 0120 1948     		ldr	r0, .L32+4
 430              		.loc 1 84 22 view .LVU113
 431 0122 002B     		cmp	r3, #0
 432 0124 B6D1     		bne	.L30
 433              	.LVL27:
 434              	.L9:
 435              		.loc 1 84 65 view .LVU114
 436 0126 FFF7FEFF 		bl	dsy_gpio_read
 437              	.LVL28:
 438              		.loc 1 84 65 view .LVU115
 439              	.LBE163:
 440              	.LBE165:
  73:StereoMixer.cpp ****           pans[i] = posDec(patch.GetAdcValue(i+2) + patch.GetAdcValue(i+6));
 441              		.loc 9 73 9 view .LVU116
 442 012a 0028     		cmp	r0, #0
 443 012c B6D0     		beq	.L10
 444              	.L13:
  74:StereoMixer.cpp ****         } else {
 445              		.loc 9 74 11 is_stmt 1 view .LVU117
  74:StereoMixer.cpp ****         } else {
 446              		.loc 9 74 45 is_stmt 0 view .LVU118
 447 012e 3146     		mov	r1, r6
 448 0130 1448     		ldr	r0, .L32
 449 0132 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 450              	.LVL29:
 451 0136 B0EE409A 		vmov.f32	s18, s0
  74:StereoMixer.cpp ****         } else {
 452              		.loc 9 74 70 view .LVU119
 453 013a 311D     		adds	r1, r6, #4
 454 013c 1148     		ldr	r0, .L32
 455 013e FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 456              	.LVL30:
  74:StereoMixer.cpp ****         } else {
 457              		.loc 9 74 27 view .LVU120
 458 0142 39EE000A 		vadd.f32	s0, s18, s0
 459              	.LVL31:
 460              	.LBB166:
 461              	.LBI166:
  27:StereoMixer.cpp **** {
 462              		.loc 9 27 7 is_stmt 1 view .LVU121
 463              	.LBB167:
  29:StereoMixer.cpp ****         return 1.f + x - (int)x;
 464              		.loc 9 29 5 view .LVU122
 465 0146 B5EEC00A 		vcmpe.f32	s0, #0
 466 014a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 467 014e 0ED4     		bmi	.L31
  31:StereoMixer.cpp **** }
 468              		.loc 9 31 5 view .LVU123
  31:StereoMixer.cpp **** }
 469              		.loc 9 31 16 is_stmt 0 view .LVU124
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 22


 470 0150 FDEEC07A 		vcvt.s32.f32	s15, s0
  31:StereoMixer.cpp **** }
 471              		.loc 9 31 14 view .LVU125
 472 0154 F8EEE77A 		vcvt.f32.s32	s15, s15
  31:StereoMixer.cpp **** }
 473              		.loc 9 31 21 view .LVU126
 474 0158 30EE670A 		vsub.f32	s0, s0, s15
 475              	.LVL32:
 476              	.L14:
  31:StereoMixer.cpp **** }
 477              		.loc 9 31 21 view .LVU127
 478              	.LBE167:
 479              	.LBE166:
  74:StereoMixer.cpp ****         } else {
 480              		.loc 9 74 19 view .LVU128
 481 015c 84ED000A 		vstr.32	s0, [r4]
 482 0160 9FE7     		b	.L15
 483              	.LVL33:
 484              	.L20:
  74:StereoMixer.cpp ****         } else {
 485              		.loc 9 74 19 view .LVU129
 486              	.LBE186:
 487              	.LBB187:
 488              	.LBB158:
 489              	.LBB155:
  20:StereoMixer.cpp ****     if(x > 1.f)
 490              		.loc 9 20 16 view .LVU130
 491 0162 DFED0A8A 		vldr.32	s17, .L32+8
 492              	.LVL34:
  20:StereoMixer.cpp ****     if(x > 1.f)
 493              		.loc 9 20 16 view .LVU131
 494 0166 8CE7     		b	.L7
 495              	.LVL35:
 496              	.L19:
  20:StereoMixer.cpp ****     if(x > 1.f)
 497              		.loc 9 20 16 view .LVU132
 498 0168 9FED088A 		vldr.32	s16, .L32+8
 499              	.LVL36:
  20:StereoMixer.cpp ****     if(x > 1.f)
 500              		.loc 9 20 16 view .LVU133
 501 016c 70E7     		b	.L5
 502              	.LVL37:
 503              	.L31:
  20:StereoMixer.cpp ****     if(x > 1.f)
 504              		.loc 9 20 16 view .LVU134
 505              	.LBE155:
 506              	.LBE158:
 507              	.LBE187:
 508              	.LBB188:
 509              	.LBB171:
 510              	.LBB170:
 511              	.LBB168:
 512              	.LBI168:
  27:StereoMixer.cpp **** {
 513              		.loc 9 27 7 is_stmt 1 view .LVU135
 514              	.LBB169:
  30:StereoMixer.cpp ****     return x - (int)x;
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 23


 515              		.loc 9 30 9 view .LVU136
  30:StereoMixer.cpp ****     return x - (int)x;
 516              		.loc 9 30 26 is_stmt 0 view .LVU137
 517 016e FDEEC07A 		vcvt.s32.f32	s15, s0
  30:StereoMixer.cpp ****     return x - (int)x;
 518              		.loc 9 30 20 view .LVU138
 519 0172 B7EE007A 		vmov.f32	s14, #1.0e+0
  30:StereoMixer.cpp ****     return x - (int)x;
 520              		.loc 9 30 24 view .LVU139
 521 0176 F8EEE77A 		vcvt.f32.s32	s15, s15
  30:StereoMixer.cpp ****     return x - (int)x;
 522              		.loc 9 30 20 view .LVU140
 523 017a 30EE070A 		vadd.f32	s0, s0, s14
 524              	.LVL38:
  30:StereoMixer.cpp ****     return x - (int)x;
 525              		.loc 9 30 31 view .LVU141
 526 017e 30EE670A 		vsub.f32	s0, s0, s15
  30:StereoMixer.cpp ****     return x - (int)x;
 527              		.loc 9 30 31 view .LVU142
 528 0182 EBE7     		b	.L14
 529              	.L33:
 530              		.align	2
 531              	.L32:
 532 0184 00000000 		.word	.LANCHOR0
 533 0188 06000000 		.word	.LANCHOR1+6
 534 018c 00000000 		.word	0
 535 0190 00000000 		.word	.LANCHOR1
 536              	.LBE169:
 537              	.LBE168:
 538              	.LBE170:
 539              	.LBE171:
 540              	.LBE188:
 541              		.cfi_endproc
 542              	.LFE4795:
 544              		.section	.text._Z5clampf,"ax",%progbits
 545              		.align	1
 546              		.p2align 2,,3
 547              		.global	_Z5clampf
 548              		.syntax unified
 549              		.thumb
 550              		.thumb_func
 552              	_Z5clampf:
 553              	.LVL39:
 554              	.LFB4793:
  18:StereoMixer.cpp ****     if(x < 0.f)
 555              		.loc 9 18 1 is_stmt 1 view -0
 556              		.cfi_startproc
 557              		@ args = 0, pretend = 0, frame = 0
 558              		@ frame_needed = 0, uses_anonymous_args = 0
 559              		@ link register save eliminated.
  19:StereoMixer.cpp ****         return 0.f;
 560              		.loc 9 19 5 view .LVU144
 561 0000 B5EEC00A 		vcmpe.f32	s0, #0
 562 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 563 0008 08D4     		bmi	.L37
  21:StereoMixer.cpp ****         return 1.f;
 564              		.loc 9 21 5 view .LVU145
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 24


 565 000a F7EE007A 		vmov.f32	s15, #1.0e+0
  23:StereoMixer.cpp **** }
 566              		.loc 9 23 12 is_stmt 0 view .LVU146
 567 000e B4EEE70A 		vcmpe.f32	s0, s15
 568 0012 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 569 0016 37FE800A 		vselgt.f32	s0, s15, s0
 570              	.LVL40:
  23:StereoMixer.cpp **** }
 571              		.loc 9 23 12 view .LVU147
 572 001a 7047     		bx	lr
 573              	.LVL41:
 574              	.L37:
  20:StereoMixer.cpp ****     if(x > 1.f)
 575              		.loc 9 20 16 view .LVU148
 576 001c 9FED010A 		vldr.32	s0, .L40
 577              	.LVL42:
  24:StereoMixer.cpp **** 
 578              		.loc 9 24 1 view .LVU149
 579 0020 7047     		bx	lr
 580              	.L41:
 581 0022 00BF     		.align	2
 582              	.L40:
 583 0024 00000000 		.word	0
 584              		.cfi_endproc
 585              	.LFE4793:
 587              		.section	.text._Z6posDecf,"ax",%progbits
 588              		.align	1
 589              		.p2align 2,,3
 590              		.global	_Z6posDecf
 591              		.syntax unified
 592              		.thumb
 593              		.thumb_func
 595              	_Z6posDecf:
 596              	.LVL43:
 597              	.LFB4794:
  28:StereoMixer.cpp ****     if(x < 0.f)
 598              		.loc 9 28 1 is_stmt 1 view -0
 599              		.cfi_startproc
 600              		@ args = 0, pretend = 0, frame = 0
 601              		@ frame_needed = 0, uses_anonymous_args = 0
 602              		@ link register save eliminated.
  29:StereoMixer.cpp ****         return 1.f + x - (int)x;
 603              		.loc 9 29 5 view .LVU151
 604 0000 B5EEC00A 		vcmpe.f32	s0, #0
 605 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 606 0008 06D4     		bmi	.L48
  31:StereoMixer.cpp **** }
 607              		.loc 9 31 5 view .LVU152
  31:StereoMixer.cpp **** }
 608              		.loc 9 31 16 is_stmt 0 view .LVU153
 609 000a FDEEC07A 		vcvt.s32.f32	s15, s0
  31:StereoMixer.cpp **** }
 610              		.loc 9 31 14 view .LVU154
 611 000e F8EEE77A 		vcvt.f32.s32	s15, s15
  31:StereoMixer.cpp **** }
 612              		.loc 9 31 21 view .LVU155
 613 0012 30EE670A 		vsub.f32	s0, s0, s15
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 25


 614              	.LVL44:
  32:StereoMixer.cpp **** 
 615              		.loc 9 32 1 view .LVU156
 616 0016 7047     		bx	lr
 617              	.LVL45:
 618              	.L48:
 619              	.LBB191:
 620              	.LBI191:
  27:StereoMixer.cpp **** {
 621              		.loc 9 27 7 is_stmt 1 view .LVU157
 622              	.LBB192:
  30:StereoMixer.cpp ****     return x - (int)x;
 623              		.loc 9 30 9 view .LVU158
  30:StereoMixer.cpp ****     return x - (int)x;
 624              		.loc 9 30 20 is_stmt 0 view .LVU159
 625 0018 B7EE007A 		vmov.f32	s14, #1.0e+0
  30:StereoMixer.cpp ****     return x - (int)x;
 626              		.loc 9 30 26 view .LVU160
 627 001c FDEEC07A 		vcvt.s32.f32	s15, s0
  30:StereoMixer.cpp ****     return x - (int)x;
 628              		.loc 9 30 20 view .LVU161
 629 0020 30EE070A 		vadd.f32	s0, s0, s14
 630              	.LVL46:
  30:StereoMixer.cpp ****     return x - (int)x;
 631              		.loc 9 30 24 view .LVU162
 632 0024 F8EEE77A 		vcvt.f32.s32	s15, s15
  30:StereoMixer.cpp ****     return x - (int)x;
 633              		.loc 9 30 31 view .LVU163
 634 0028 30EE670A 		vsub.f32	s0, s0, s15
 635              	.LVL47:
  30:StereoMixer.cpp ****     return x - (int)x;
 636              		.loc 9 30 31 view .LVU164
 637 002c 7047     		bx	lr
 638              	.LBE192:
 639              	.LBE191:
 640              		.cfi_endproc
 641              	.LFE4794:
 643 002e 00BF     		.section	.text.startup.main,"ax",%progbits
 644              		.align	1
 645              		.p2align 2,,3
 646              		.global	main
 647              		.syntax unified
 648              		.thumb
 649              		.thumb_func
 651              	main:
 652              	.LFB4796:
 101:StereoMixer.cpp **** 
 102:StereoMixer.cpp **** int main(void)
 103:StereoMixer.cpp **** {
 653              		.loc 9 103 1 is_stmt 1 view -0
 654              		.cfi_startproc
 655              		@ Volatile: function does not return.
 656              		@ args = 0, pretend = 0, frame = 0
 657              		@ frame_needed = 0, uses_anonymous_args = 0
 104:StereoMixer.cpp ****     /** Initialize the hardware */
 105:StereoMixer.cpp ****     patch.Init();
 658              		.loc 9 105 5 view .LVU166
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 26


 103:StereoMixer.cpp ****     /** Initialize the hardware */
 659              		.loc 9 103 1 is_stmt 0 view .LVU167
 660 0000 08B5     		push	{r3, lr}
 661              		.cfi_def_cfa_offset 8
 662              		.cfi_offset 3, -8
 663              		.cfi_offset 14, -4
 664              		.loc 9 105 15 view .LVU168
 665 0002 0948     		ldr	r0, .L52
 666 0004 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
 667              	.LVL48:
 106:StereoMixer.cpp ****     lever.Init(patch.B8);
 668              		.loc 9 106 5 is_stmt 1 view .LVU169
 669              		.loc 9 106 15 is_stmt 0 view .LVU170
 670 0008 084B     		ldr	r3, .L52+4
 671 000a 0948     		ldr	r0, .L52+8
 672 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 673 000e 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 674 0010 9FED080A 		vldr.32	s0, .L52+12
 675 0014 42EA0121 		orr	r1, r2, r1, lsl #8
 676 0018 FFF7FEFF 		bl	_ZN5daisy6Switch4InitE12dsy_gpio_pinf
 677              	.LVL49:
 107:StereoMixer.cpp **** 
 108:StereoMixer.cpp ****     /** Start Processing the audio */
 109:StereoMixer.cpp ****     patch.StartAudio(AudioCallback);
 678              		.loc 9 109 5 is_stmt 1 view .LVU171
 679              		.loc 9 109 21 is_stmt 0 view .LVU172
 680 001c 0649     		ldr	r1, .L52+16
 681 001e 0248     		ldr	r0, .L52
 682 0020 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
 683              	.LVL50:
 684              	.L50:
 110:StereoMixer.cpp ****     while(1) {}
 685              		.loc 9 110 5 is_stmt 1 discriminator 1 view .LVU173
 686              		.loc 9 110 5 discriminator 1 view .LVU174
 687              		.loc 9 110 5 discriminator 1 view .LVU175
 688              		.loc 9 110 5 discriminator 1 view .LVU176
 689 0024 FEE7     		b	.L50
 690              	.L53:
 691 0026 00BF     		.align	2
 692              	.L52:
 693 0028 00000000 		.word	.LANCHOR0
 694 002c 00000000 		.word	_ZN5daisy8patch_sm12DaisyPatchSM2B8E
 695 0030 00000000 		.word	.LANCHOR1
 696 0034 00000000 		.word	0
 697 0038 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 698              		.cfi_endproc
 699              	.LFE4796:
 701              		.section	.text.startup._GLOBAL__sub_I_patch,"ax",%progbits
 702              		.align	1
 703              		.p2align 2,,3
 704              		.syntax unified
 705              		.thumb
 706              		.thumb_func
 708              	_GLOBAL__sub_I_patch:
 709              	.LFB5356:
 111:StereoMixer.cpp **** }
 710              		.loc 9 111 1 view -0
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 27


 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 0
 713              		@ frame_needed = 0, uses_anonymous_args = 0
 714              	.LBB223:
 715              	.LBI223:
 716              		.loc 9 111 1 view .LVU178
 717              	.LVL51:
 718              	.LBB224:
 719              	.LBB225:
 720              	.LBI225:
  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 721              		.loc 2 64 9 view .LVU179
 722              	.LBB226:
 723              	.LBB227:
 724              	.LBI227:
  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 725              		.loc 8 77 5 view .LVU180
  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 726              		.loc 8 77 5 is_stmt 0 view .LVU181
 727              	.LBE227:
 728              	.LBB228:
 729              	.LBI228:
 730              		.file 10 "../../libDaisy//src/per/qspi.h"
   1:../../libDaisy//src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy//src/per/qspi.h **** 
   4:../../libDaisy//src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../libDaisy//src/per/qspi.h **** 
   6:../../libDaisy//src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy//src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy//src/per/qspi.h **** 
   9:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy//src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy//src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy//src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy//src/per/qspi.h **** 
  19:../../libDaisy//src/per/qspi.h **** namespace daisy
  20:../../libDaisy//src/per/qspi.h **** {
  21:../../libDaisy//src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy//src/per/qspi.h **** @{
  23:../../libDaisy//src/per/qspi.h **** */
  24:../../libDaisy//src/per/qspi.h **** 
  25:../../libDaisy//src/per/qspi.h **** /** 
  26:../../libDaisy//src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy//src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy//src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy//src/per/qspi.h **** */
  30:../../libDaisy//src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy//src/per/qspi.h **** {
  32:../../libDaisy//src/per/qspi.h ****   public:
  33:../../libDaisy//src/per/qspi.h ****     enum Result
  34:../../libDaisy//src/per/qspi.h ****     {
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 28


  35:../../libDaisy//src/per/qspi.h ****         OK = 0,
  36:../../libDaisy//src/per/qspi.h ****         ERR
  37:../../libDaisy//src/per/qspi.h ****     };
  38:../../libDaisy//src/per/qspi.h **** 
  39:../../libDaisy//src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy//src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy//src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy//src/per/qspi.h ****          * 
  43:../../libDaisy//src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../libDaisy//src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy//src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy//src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy//src/per/qspi.h ****          */
  48:../../libDaisy//src/per/qspi.h ****     enum Status
  49:../../libDaisy//src/per/qspi.h ****     {
  50:../../libDaisy//src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy//src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy//src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy//src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy//src/per/qspi.h ****     };
  55:../../libDaisy//src/per/qspi.h **** 
  56:../../libDaisy//src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy//src/per/qspi.h ****     struct Config
  58:../../libDaisy//src/per/qspi.h ****     {
  59:../../libDaisy//src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy//src/per/qspi.h ****         enum Device
  61:../../libDaisy//src/per/qspi.h ****         {
  62:../../libDaisy//src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy//src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy//src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy//src/per/qspi.h ****         };
  66:../../libDaisy//src/per/qspi.h **** 
  67:../../libDaisy//src/per/qspi.h ****         /** 
  68:../../libDaisy//src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy//src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy//src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy//src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy//src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy//src/per/qspi.h ****         */
  74:../../libDaisy//src/per/qspi.h ****         enum Mode
  75:../../libDaisy//src/per/qspi.h ****         {
  76:../../libDaisy//src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy//src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../libDaisy//src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy//src/per/qspi.h ****         };
  80:../../libDaisy//src/per/qspi.h **** 
  81:../../libDaisy//src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy//src/per/qspi.h ****         struct
  83:../../libDaisy//src/per/qspi.h ****         {
  84:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy//src/per/qspi.h ****         } pin_config;
  91:../../libDaisy//src/per/qspi.h **** 
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 29


  92:../../libDaisy//src/per/qspi.h ****         Device device;
  93:../../libDaisy//src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy//src/per/qspi.h ****     };
  95:../../libDaisy//src/per/qspi.h **** 
  96:../../libDaisy//src/per/qspi.h ****     /** 
  97:../../libDaisy//src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy//src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy//src/per/qspi.h ****         */
 101:../../libDaisy//src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy//src/per/qspi.h **** 
 103:../../libDaisy//src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy//src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy//src/per/qspi.h **** 
 106:../../libDaisy//src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../libDaisy//src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy//src/per/qspi.h ****     /** 
 109:../../libDaisy//src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy//src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../libDaisy//src/per/qspi.h ****         */
 113:../../libDaisy//src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy//src/per/qspi.h **** 
 115:../../libDaisy//src/per/qspi.h ****     /** 
 116:../../libDaisy//src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy//src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 119:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy//src/per/qspi.h ****         */
 123:../../libDaisy//src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy//src/per/qspi.h **** 
 125:../../libDaisy//src/per/qspi.h ****     /** 
 126:../../libDaisy//src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy//src/per/qspi.h ****         */
 132:../../libDaisy//src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy//src/per/qspi.h **** 
 134:../../libDaisy//src/per/qspi.h ****     /** 
 135:../../libDaisy//src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy//src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy//src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy//src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy//src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy//src/per/qspi.h ****         */
 142:../../libDaisy//src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy//src/per/qspi.h **** 
 144:../../libDaisy//src/per/qspi.h ****     /**  
 145:../../libDaisy//src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy//src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy//src/per/qspi.h ****         \param address Address of sector to erase
 148:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 30


 149:../../libDaisy//src/per/qspi.h ****         */
 150:../../libDaisy//src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy//src/per/qspi.h **** 
 152:../../libDaisy//src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy//src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy//src/per/qspi.h ****      */
 155:../../libDaisy//src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy//src/per/qspi.h **** 
 157:../../libDaisy//src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../libDaisy//src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy//src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy//src/per/qspi.h ****      * 
 161:../../libDaisy//src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy//src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy//src/per/qspi.h ****     */
 164:../../libDaisy//src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy//src/per/qspi.h **** 
 166:../../libDaisy//src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 731              		.loc 10 166 5 is_stmt 1 view .LVU182
 732              	.LBE228:
 733              	.LBE226:
 734              	.LBE225:
 735              	.LBE224:
 736              	.LBE223:
 737              		.loc 9 111 1 is_stmt 0 view .LVU183
 738 0000 08B5     		push	{r3, lr}
 739              		.cfi_def_cfa_offset 8
 740              		.cfi_offset 3, -8
 741              		.cfi_offset 14, -4
 742              	.LBB261:
 743              	.LBB258:
 744              	.LBB254:
 745              	.LBB251:
 746              	.LBB231:
 747              	.LBB229:
 748              	.LBB230:
 749              		.loc 10 166 34 view .LVU184
 750 0002 0848     		ldr	r0, .L56
 751 0004 0023     		movs	r3, #0
 752              	.LBE230:
 753              	.LBE229:
 754              	.LBE231:
 755              	.LBE251:
 756              	.LBE254:
  13:StereoMixer.cpp **** Switch lever;
 757              		.loc 9 13 14 view .LVU185
 758 0006 084A     		ldr	r2, .L56+4
 759 0008 0849     		ldr	r1, .L56+8
 760              	.LBB255:
 761              	.LBB252:
 762              	.LBB232:
 763              	.LBB233:
 764              	.LBB234:
 765              	.LBB235:
 766              	.LBB236:
 767              		.file 11 "../../libDaisy//src/per/i2c.h"
   1:../../libDaisy//src/per/i2c.h **** #pragma once
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 31


   2:../../libDaisy//src/per/i2c.h **** #include "daisy_core.h"
   3:../../libDaisy//src/per/i2c.h **** 
   4:../../libDaisy//src/per/i2c.h **** namespace daisy
   5:../../libDaisy//src/per/i2c.h **** {
   6:../../libDaisy//src/per/i2c.h **** /** A handle for interacting with an I2C peripheral. This is a dumb
   7:../../libDaisy//src/per/i2c.h ****  *  gateway that internally points to one of the four I2C peripherals
   8:../../libDaisy//src/per/i2c.h ****  *  after it was initialised. It can then be copied and passed around.
   9:../../libDaisy//src/per/i2c.h ****  *  Use an I2CHandle like this:
  10:../../libDaisy//src/per/i2c.h ****  *  
  11:../../libDaisy//src/per/i2c.h ****  *      // setup the configuration
  12:../../libDaisy//src/per/i2c.h ****  *      I2CHandle::Config i2c_conf;
  13:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.periph = I2CHandle::Config::Peripheral::I2C_1;
  14:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
  15:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.mode   = I2CHandle::Config::Mode::Master;
  16:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.scl  = {DSY_GPIOB, 8};
  17:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.sda  = {DSY_GPIOB, 9};
  18:../../libDaisy//src/per/i2c.h ****  *      // initialise the peripheral
  19:../../libDaisy//src/per/i2c.h ****  *      I2CHandle i2c;
  20:../../libDaisy//src/per/i2c.h ****  *      i2c.Init(i2c_conf);
  21:../../libDaisy//src/per/i2c.h ****  *      // now i2c points to the corresponding peripheral and can be used.
  22:../../libDaisy//src/per/i2c.h ****  *      i2c.TransmitBlocking( ... );
  23:../../libDaisy//src/per/i2c.h ****  */
  24:../../libDaisy//src/per/i2c.h **** class I2CHandle
  25:../../libDaisy//src/per/i2c.h **** {
  26:../../libDaisy//src/per/i2c.h ****   public:
  27:../../libDaisy//src/per/i2c.h ****     /** Contains settings for initialising an I2C interface. */
  28:../../libDaisy//src/per/i2c.h ****     struct Config
  29:../../libDaisy//src/per/i2c.h ****     {
  30:../../libDaisy//src/per/i2c.h ****         /** Specifies whether the interface will operate in master or slave mode. */
  31:../../libDaisy//src/per/i2c.h ****         enum class Mode
  32:../../libDaisy//src/per/i2c.h ****         {
  33:../../libDaisy//src/per/i2c.h ****             I2C_MASTER,
  34:../../libDaisy//src/per/i2c.h ****             I2C_SLAVE,
  35:../../libDaisy//src/per/i2c.h ****         };
  36:../../libDaisy//src/per/i2c.h **** 
  37:../../libDaisy//src/per/i2c.h ****         /** Specifices the internal peripheral to use (these are mapped to different pins on the ha
  38:../../libDaisy//src/per/i2c.h ****         enum class Peripheral
  39:../../libDaisy//src/per/i2c.h ****         {
  40:../../libDaisy//src/per/i2c.h ****             I2C_1 = 0, /**< & */
  41:../../libDaisy//src/per/i2c.h ****             I2C_2,     /**< & */
  42:../../libDaisy//src/per/i2c.h ****             I2C_3,     /**< & */
  43:../../libDaisy//src/per/i2c.h ****             I2C_4,     /**< & */
  44:../../libDaisy//src/per/i2c.h ****         };
  45:../../libDaisy//src/per/i2c.h **** 
  46:../../libDaisy//src/per/i2c.h ****         /** Rate at which the clock/data will be sent/received. The device being used will have max
  47:../../libDaisy//src/per/i2c.h ****          *  1MHZ Mode is currently 886kHz
  48:../../libDaisy//src/per/i2c.h ****          */
  49:../../libDaisy//src/per/i2c.h ****         enum class Speed
  50:../../libDaisy//src/per/i2c.h ****         {
  51:../../libDaisy//src/per/i2c.h ****             I2C_100KHZ, /**< & */
  52:../../libDaisy//src/per/i2c.h ****             I2C_400KHZ, /**< & */
  53:../../libDaisy//src/per/i2c.h ****             I2C_1MHZ,   /**< & */
  54:../../libDaisy//src/per/i2c.h ****         };
  55:../../libDaisy//src/per/i2c.h **** 
  56:../../libDaisy//src/per/i2c.h ****         Peripheral periph; /**< & */
  57:../../libDaisy//src/per/i2c.h ****         struct
  58:../../libDaisy//src/per/i2c.h ****         {
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 32


  59:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin scl; /**< & */
  60:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin sda; /**< & */
  61:../../libDaisy//src/per/i2c.h ****         } pin_config;         /**< & */
  62:../../libDaisy//src/per/i2c.h **** 
  63:../../libDaisy//src/per/i2c.h ****         Speed speed; /**< & */
  64:../../libDaisy//src/per/i2c.h ****         Mode  mode;  /**< & */
  65:../../libDaisy//src/per/i2c.h ****         // 0x10 is chosen as a default to avoid conflicts with reserved addresses
  66:../../libDaisy//src/per/i2c.h ****         uint8_t address = 0x10; /**< & */
  67:../../libDaisy//src/per/i2c.h ****     };
  68:../../libDaisy//src/per/i2c.h **** 
  69:../../libDaisy//src/per/i2c.h ****     /** Return values for I2C functions. */
  70:../../libDaisy//src/per/i2c.h ****     enum class Result
  71:../../libDaisy//src/per/i2c.h ****     {
  72:../../libDaisy//src/per/i2c.h ****         OK, /**< & */
  73:../../libDaisy//src/per/i2c.h ****         ERR /**< & */
  74:../../libDaisy//src/per/i2c.h ****     };
  75:../../libDaisy//src/per/i2c.h **** 
  76:../../libDaisy//src/per/i2c.h ****     enum class Direction
  77:../../libDaisy//src/per/i2c.h ****     {
  78:../../libDaisy//src/per/i2c.h ****         TRANSMIT, /**< & */
  79:../../libDaisy//src/per/i2c.h ****         RECEIVE,  /**< & */
  80:../../libDaisy//src/per/i2c.h ****     };
  81:../../libDaisy//src/per/i2c.h **** 
  82:../../libDaisy//src/per/i2c.h ****     I2CHandle() : pimpl_(nullptr) {}
 768              		.loc 11 82 33 view .LVU186
 769 000a 0362     		str	r3, [r0, #32]
 770              	.LBE236:
 771              	.LBE235:
 772              	.LBE234:
 773              	.LBE233:
 774              	.LBE232:
 775              	.LBB239:
 776              	.LBB240:
 777              	.LBB241:
 778              		.file 12 "../../libDaisy//src/per/dac.h"
   1:../../libDaisy//src/per/dac.h **** #pragma once
   2:../../libDaisy//src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy//src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy//src/per/dac.h **** 
   5:../../libDaisy//src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/dac.h **** 
   7:../../libDaisy//src/per/dac.h **** namespace daisy
   8:../../libDaisy//src/per/dac.h **** {
   9:../../libDaisy//src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy//src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy//src/per/dac.h ****  ** 
  12:../../libDaisy//src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy//src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy//src/per/dac.h ****  **
  15:../../libDaisy//src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy//src/per/dac.h ****  **
  17:../../libDaisy//src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy//src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy//src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy//src/per/dac.h ****  ***/
  21:../../libDaisy//src/per/dac.h **** class DacHandle
  22:../../libDaisy//src/per/dac.h **** {
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 33


  23:../../libDaisy//src/per/dac.h ****   public:
  24:../../libDaisy//src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy//src/per/dac.h ****     enum class Result
  26:../../libDaisy//src/per/dac.h ****     {
  27:../../libDaisy//src/per/dac.h ****         OK,
  28:../../libDaisy//src/per/dac.h ****         ERR,
  29:../../libDaisy//src/per/dac.h ****     };
  30:../../libDaisy//src/per/dac.h **** 
  31:../../libDaisy//src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy//src/per/dac.h ****     enum class Channel
  33:../../libDaisy//src/per/dac.h ****     {
  34:../../libDaisy//src/per/dac.h ****         ONE,
  35:../../libDaisy//src/per/dac.h ****         TWO,
  36:../../libDaisy//src/per/dac.h ****         BOTH,
  37:../../libDaisy//src/per/dac.h ****     };
  38:../../libDaisy//src/per/dac.h **** 
  39:../../libDaisy//src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy//src/per/dac.h ****      **
  41:../../libDaisy//src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy//src/per/dac.h ****      **
  43:../../libDaisy//src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy//src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy//src/per/dac.h ****      ***/
  46:../../libDaisy//src/per/dac.h ****     enum class Mode
  47:../../libDaisy//src/per/dac.h ****     {
  48:../../libDaisy//src/per/dac.h ****         POLLING,
  49:../../libDaisy//src/per/dac.h ****         DMA,
  50:../../libDaisy//src/per/dac.h ****     };
  51:../../libDaisy//src/per/dac.h **** 
  52:../../libDaisy//src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy//src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy//src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy//src/per/dac.h ****      ***/
  56:../../libDaisy//src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy//src/per/dac.h ****     {
  58:../../libDaisy//src/per/dac.h ****         BITS_8,
  59:../../libDaisy//src/per/dac.h ****         BITS_12
  60:../../libDaisy//src/per/dac.h ****     };
  61:../../libDaisy//src/per/dac.h **** 
  62:../../libDaisy//src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy//src/per/dac.h ****     enum class BufferState
  64:../../libDaisy//src/per/dac.h ****     {
  65:../../libDaisy//src/per/dac.h ****         ENABLED,
  66:../../libDaisy//src/per/dac.h ****         DISABLED,
  67:../../libDaisy//src/per/dac.h ****     };
  68:../../libDaisy//src/per/dac.h **** 
  69:../../libDaisy//src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy//src/per/dac.h ****     struct Config
  71:../../libDaisy//src/per/dac.h ****     {
  72:../../libDaisy//src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy//src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy//src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy//src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy//src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy//src/per/dac.h **** 
  78:../../libDaisy//src/per/dac.h ****         Channel     chn;
  79:../../libDaisy//src/per/dac.h ****         Mode        mode;
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 34


  80:../../libDaisy//src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy//src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy//src/per/dac.h ****     };
  83:../../libDaisy//src/per/dac.h **** 
  84:../../libDaisy//src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 779              		.loc 12 84 33 view .LVU187
 780 000c 8362     		str	r3, [r0, #40]
 781              	.LBE241:
 782              	.LBE240:
 783              	.LBE239:
 784              	.LBB242:
 785              	.LBB243:
 786              	.LBB244:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 787              		.loc 7 95 35 view .LVU188
 788 000e C0E90333 		strd	r3, r3, [r0, #12]
 789              	.LVL52:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 790              		.loc 7 95 35 view .LVU189
 791              	.LBE244:
 792              	.LBE243:
 793              	.LBE242:
 794              	.LBB245:
 795              	.LBI245:
  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 796              		.loc 6 92 5 is_stmt 1 view .LVU190
  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 797              		.loc 6 92 5 is_stmt 0 view .LVU191
 798              	.LBE245:
 799              	.LBB246:
 800              	.LBI246:
  40:../../libDaisy//src/hid/usb.h **** 
 801              		.loc 5 40 5 is_stmt 1 view .LVU192
  40:../../libDaisy//src/hid/usb.h **** 
 802              		.loc 5 40 5 is_stmt 0 view .LVU193
 803              	.LBE246:
 804              	.LBB247:
 805              	.LBI232:
  28:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
 806              		.loc 4 28 5 is_stmt 1 view .LVU194
 807              	.LBB238:
 808              	.LBB237:
 809              	.LBI234:
 810              		.loc 11 82 5 view .LVU195
 811              		.loc 11 82 5 is_stmt 0 view .LVU196
 812              	.LBE237:
 813              	.LBE238:
 814              	.LBE247:
 815              	.LBB248:
 816              	.LBI239:
 817              		.loc 12 84 5 is_stmt 1 view .LVU197
 818              		.loc 12 84 5 is_stmt 0 view .LVU198
 819              	.LBE248:
 820              	.LBE252:
 821              	.LBE255:
 822              	.LBE258:
 823              	.LBE261:
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 35


  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 824              		.loc 2 64 24 is_stmt 1 view .LVU199
 825              	.LBB262:
 826              	.LBB259:
 827              	.LBB256:
 828              	.LBB253:
 829              	.LBB249:
 830              	.LBI249:
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 831              		.loc 3 20 5 view .LVU200
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 832              		.loc 3 20 5 is_stmt 0 view .LVU201
 833              	.LBE249:
 834              	.LBB250:
 835              	.LBI250:
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 836              		.loc 3 20 5 is_stmt 1 view .LVU202
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 837              		.loc 3 20 5 is_stmt 0 view .LVU203
 838              	.LBE250:
 839              	.LBE253:
 840              	.LBE256:
  13:StereoMixer.cpp **** Switch lever;
 841              		.loc 9 13 14 view .LVU204
 842 0012 FFF7FEFF 		bl	__aeabi_atexit
 843              	.LVL53:
 844              	.LBB257:
 845              	.LBI257:
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 846              		.loc 1 41 5 is_stmt 1 view .LVU205
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 847              		.loc 1 41 5 is_stmt 0 view .LVU206
 848              	.LBE257:
  14:StereoMixer.cpp **** 
 849              		.loc 9 14 8 view .LVU207
 850 0016 044A     		ldr	r2, .L56+4
 851 0018 0549     		ldr	r1, .L56+12
 852 001a 0648     		ldr	r0, .L56+16
 853              	.LBE259:
 854              	.LBE262:
 855              		.loc 9 111 1 view .LVU208
 856 001c BDE80840 		pop	{r3, lr}
 857              		.cfi_restore 14
 858              		.cfi_restore 3
 859              		.cfi_def_cfa_offset 0
 860              	.LBB263:
 861              	.LBB260:
  14:StereoMixer.cpp **** 
 862              		.loc 9 14 8 view .LVU209
 863 0020 FFF7FEBF 		b	__aeabi_atexit
 864              	.LVL54:
 865              	.L57:
 866              		.align	2
 867              	.L56:
 868 0024 00000000 		.word	.LANCHOR0
 869 0028 00000000 		.word	__dso_handle
 870 002c 00000000 		.word	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 36


 871 0030 00000000 		.word	_ZN5daisy6SwitchD1Ev
 872 0034 00000000 		.word	.LANCHOR1
 873              	.LBE260:
 874              	.LBE263:
 875              		.cfi_endproc
 876              	.LFE5356:
 878              		.section	.init_array,"aw",%init_array
 879              		.align	2
 880 0000 00000000 		.word	_GLOBAL__sub_I_patch(target1)
 881              		.global	lever
 882              		.global	patch
 883              		.section	.bss.lever,"aw",%nobits
 884              		.align	2
 885              		.set	.LANCHOR1,. + 0
 888              	lever:
 889 0000 00000000 		.space	16
 889      00000000 
 889      00000000 
 889      00000000 
 890              		.section	.bss.patch,"aw",%nobits
 891              		.align	2
 892              		.set	.LANCHOR0,. + 0
 895              	patch:
 896 0000 00000000 		.space	464
 896      00000000 
 896      00000000 
 896      00000000 
 896      00000000 
 897              		.text
 898              	.Letext0:
 899              		.file 13 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/machine/_default_types.h"
 900              		.file 14 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/sys/_stdint.h"
 901              		.file 15 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/stdint.h"
 902              		.file 16 "/Library/DaisyToolchain/0.1.3-ARM/arm/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 903              		.file 17 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/cmath"
 904              		.file 18 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/bits/std_abs.h"
 905              		.file 19 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/cstdlib"
 906              		.file 20 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/cstdint"
 907              		.file 21 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/type_traits"
 908              		.file 22 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/debug/debug.h"
 909              		.file 23 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/arm-none-eabi/thu
 910              		.file 24 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/bits/algorithmfwd
 911              		.file 25 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_pair.h"
 912              		.file 26 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/bits/exception_pt
 913              		.file 27 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/cstdarg"
 914              		.file 28 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/cstdio"
 915              		.file 29 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/cstring"
 916              		.file 30 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/cwchar"
 917              		.file 31 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/clocale"
 918              		.file 32 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/bits/basic_string
 919              		.file 33 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_iterator
 920              		.file 34 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/bits/predefined_o
 921              		.file 35 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/sys/_types.h"
 922              		.file 36 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/sys/reent.h"
 923              		.file 37 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/sys/lock.h"
 924              		.file 38 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/math.h"
 925              		.file 39 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/stdlib.h"
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 37


 926              		.file 40 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/math.h"
 927              		.file 41 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/c++/10.3.1/stdlib.h"
 928              		.file 42 "../../libDaisy//src/daisy_core.h"
 929              		.file 43 "../../libDaisy//src/per/tim.h"
 930              		.file 44 "../../libDaisy//src/per/sai.h"
 931              		.file 45 "../../libDaisy//src/hid/ctrl.h"
 932              		.file 46 "../../libDaisy//src/util/wav_format.h"
 933              		.file 47 "../../libDaisy//src/dev/max11300.h"
 934              		.file 48 "../../libDaisy//src/per/gpio.h"
 935              		.file 49 "../../libDaisy//src/dev/sdram.h"
 936              		.file 50 "/Library/DaisyToolchain/0.1.3-ARM/arm/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 937              		.file 51 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/stdio.h"
 938              		.file 52 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/string.h"
 939              		.file 53 "../../DaisySP//Source/Control/adenv.h"
 940              		.file 54 "../../DaisySP//Source/Utility/dsp.h"
 941              		.file 55 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/wchar.h"
 942              		.file 56 "/Library/DaisyToolchain/0.1.3-ARM/arm/arm-none-eabi/include/locale.h"
 943              		.file 57 "../../libDaisy//src/dev/sr_595.h"
 944              		.file 58 "<built-in>"
ARM GAS  /var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s 			page 38


DEFINED SYMBOLS
                            *ABS*:0000000000000000 StereoMixer.cpp
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:19     .text._ZN5daisy6SwitchD2Ev:0000000000000000 $t
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:26     .text._ZN5daisy6SwitchD2Ev:0000000000000000 _ZN5daisy6SwitchD2Ev
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:26     .text._ZN5daisy6SwitchD2Ev:0000000000000000 _ZN5daisy6SwitchD1Ev
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:43     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:0000000000000000 $t
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:50     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:0000000000000000 _ZN5daisy8patch_sm12DaisyPatchSMD2Ev
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:50     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:0000000000000000 _ZN5daisy8patch_sm12DaisyPatchSMD1Ev
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:108    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 $t
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:115    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 _Z13AudioCallbackPKPKfPPfj
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:532    .text._Z13AudioCallbackPKPKfPPfj:0000000000000184 $d
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:545    .text._Z5clampf:0000000000000000 $t
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:552    .text._Z5clampf:0000000000000000 _Z5clampf
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:583    .text._Z5clampf:0000000000000024 $d
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:588    .text._Z6posDecf:0000000000000000 $t
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:595    .text._Z6posDecf:0000000000000000 _Z6posDecf
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:644    .text.startup.main:0000000000000000 $t
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:651    .text.startup.main:0000000000000000 main
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:693    .text.startup.main:0000000000000028 $d
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:702    .text.startup._GLOBAL__sub_I_patch:0000000000000000 $t
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:708    .text.startup._GLOBAL__sub_I_patch:0000000000000000 _GLOBAL__sub_I_patch
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:868    .text.startup._GLOBAL__sub_I_patch:0000000000000024 $d
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:879    .init_array:0000000000000000 $d
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:888    .bss.lever:0000000000000000 lever
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:895    .bss.patch:0000000000000000 patch
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:884    .bss.lever:0000000000000000 $d
/var/folders/7r/_q8wlm1137gbhjft__4kp4hh0000gn/T//ccP19LPe.s:891    .bss.patch:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy6SwitchD5Ev
                           .group:0000000000000000 _ZN5daisy8patch_sm12DaisyPatchSMD5Ev

UNDEFINED SYMBOLS
_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
dsy_gpio_read
_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
_ZN5daisy6Switch4InitE12dsy_gpio_pinf
_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
_ZN5daisy8patch_sm12DaisyPatchSM2B8E
__aeabi_atexit
__dso_handle
